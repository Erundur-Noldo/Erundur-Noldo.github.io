<!DOCTYPE html>

<html lang="en">

<head>

	<title>&#65279;</title> <!--there is an empty character here, so there is no title vissible in the browser-->
	<style>
		body{
			overflow: hidden;
		}
		#background {
			position: absolute;
			top: 0px;
			right: 0px;
		}
		#time {
			position: absolute;
			top: 5%;
			width: 100%;
			font-size: 100px;
			text-align: center;
			color: rgb(14, 114, 96, 0.5);
		}
		
		
	</style>
</head>

<body>

	<div id="background"> </div>
	<div id="time"> </div>


	<script>
		
		
		addEventListener('resize', (event) => {});
		onresize = (event) => {
			getBackground();
		};		
		
		
		
		//choose an image (not one of the five last chosen)
        const lastFiveImagesCookieName = 'lastFiveImages';
        let lastFiveImages = [];

		let numberOfImages = 44;

		
		
		
		
		
        //setCookie(lastFiveImagesCookieName, lastFiveImages, 365);
		
		
		//load the last five images from the cookies
		//initializeLastFiveImages();
		
		
		//background
		getBackground();
		

		
		print


		function getBackground() {
		
			
			
			
		
			var el = document.getElementById("background");

			//the image is 1980 by 1080, which is 1.777:1
            const aspectRatio = 1980 / 1080; // 1.777:1

            const width = window.innerWidth;
            const height = window.innerHeight;

            let imageChoice;
            do {
                imageChoice = Math.floor(Math.random() * numberOfImages);
            } while (lastFiveImages.includes(imageChoice));



            //saveLastFiveImagesToCookie();

			
			var name = "<img src=\"" + imageChoice + ".png\" width=\"" + window.innerWidth + "\" height=auto>";
			if(window.innerWidth < (1.777 * window.innerHeight)) {
				name = "<img src=\"" + imageChoice + ".png\" width=auto height=\"" + window.innerHeight + "\">";
			}
			el.innerHTML=name;
		}
		
		
		
		
		//clock
		var time = document.querySelector('.time');
		var dateTime = document.querySelector('.date-time');
		updateClock();
		
		function updateClock() {
			var now = new Date();
			var hours = now.getHours();
			var minutes = now.getMinutes();
			var seconds = now.getSeconds();

			hours = hours < 10 ? '0' + hours : hours;
			minutes = minutes < 10 ? '0' + minutes : minutes;
			seconds = seconds < 10 ? '0' + seconds : seconds;

			var timething = document.getElementById("time");
			var theTime = hours + ':' + minutes + ':' + seconds;
			timething.innerHTML=theTime;
			
			var t = setTimeout(function(){ updateClock() }, 1000); /* setting timer */
		 }
				 
		
		//cookie functions
		
		
        function initializeLastFiveImages() {
            const cookieValue = getCookie(lastFiveImagesCookieName);
            if (cookieValue) {
                lastFiveImages = JSON.parse(cookieValue);
 				console.log("done something");
           } else {
				console.log("done something not");
			}
        }

        function saveLastFiveImagesToCookie() {
            setCookie(lastFiveImagesCookieName, JSON.stringify(lastFiveImages), 365); // Store for 365 days
        }


       function setCookie(name, value, days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            const expires = "expires=" + date.toUTCString();
            document.cookie = name + "=" + value + ";" + expires + ";path=/";
        }

        function getCookie(name) {
            const decodedCookie = decodeURIComponent(document.cookie);
            const cookies = decodedCookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.startsWith(name + '=')) {
                    return cookie.substring(name.length + 1);
                }
            }
            return '';
        }

		 
	</script>
<body>


</html> 